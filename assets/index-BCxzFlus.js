(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}})();const o=800,l=600,f=3,E=10,d=30,S=.2,O=10,I=4,y=192,c=96,e={player:{x:o/2-c/2,y:l/2-c/2,width:c,height:c,speed:f,direction:"down",frameX:0,frameY:2,moving:!1},powerups:[],score:0,gameActive:!1,gameOver:!1,keys:{}},u=document.getElementById("game-canvas"),m=u.getContext("2d"),A=document.getElementById("score-display");u.width=o;u.height=l;function L(){const r=document.createElement("div");r.id="start-screen",r.className="screen";const n="/walking-sprite-game/";r.innerHTML=`
    <h1 class="screen-title">Love the Kitty Adventure</h1>
    <img src="${n}game/images/Love the Kitty Running.png" alt="Love the Kitty" class="screen-icon">
    <div>
      <img src="${n}game/images/arrow-keys.svg" alt="Arrow Keys" class="game-icon">
      <img src="${n}game/images/space-key.svg" alt="Space Bar" class="game-icon">
    </div>
  `;const s=document.createElement("div");s.id="game-over-screen",s.className="screen hidden",s.innerHTML=`
    <h1 class="screen-title">Game Over</h1>
    <div id="final-score">Score: 0</div>
    <img src="${n}game/images/space-key.svg" alt="Space Bar" class="game-icon">
  `;const i=document.getElementById("game-container");i.appendChild(r),i.appendChild(s)}function x(){const r="/walking-sprite-game/";e.playerSprite=new Image,e.playerSprite.src=`${r}game/images/Love the Kitty Running.png`,e.powerupSprite=new Image,e.powerupSprite.src=`${r}game/images/powerup.svg`}function v(){e.powerups=[];for(let r=0;r<E;r++)e.powerups.push({x:Math.random()*(o-d),y:Math.random()*(l-d),width:d,height:d,collected:!1})}function P(){window.addEventListener("keydown",r=>{e.keys[r.key]=!0,(r.key===" "||r.code==="Space")&&(e.gameActive?e.gameOver&&R():k())}),window.addEventListener("keyup",r=>{e.keys[r.key]=!1})}function k(){document.getElementById("start-screen").classList.add("hidden"),e.gameActive=!0,e.gameOver=!1,e.score=0,e.player.speed=f,e.player.x=o/2-c/2,e.player.y=l/2-c/2,e.player.frameX=0,e.player.frameY=2,v(),h()}function R(){document.getElementById("game-over-screen").classList.add("hidden"),e.gameActive=!0,e.gameOver=!1,e.score=0,e.player.speed=f,e.player.x=o/2-c/2,e.player.y=l/2-c/2,e.player.frameX=0,e.player.frameY=2,v(),h()}function _(){e.gameActive=!1,e.gameOver=!0;const r=document.getElementById("game-over-screen"),n=document.getElementById("final-score");n.textContent=`Score: ${e.score}`,r.classList.remove("hidden")}function h(){A.textContent=`Score: ${e.score}`}function Y(){e.powerups.forEach((r,n)=>{if(!r.collected){const s=e.player.x+e.player.width/2-(r.x+r.width/2),i=e.player.y+e.player.height/2-(r.y+r.height/2);Math.sqrt(s*s+i*i)<e.player.width/2+r.width/2&&(r.collected=!0,e.score+=O,e.player.speed+=S,h(),e.powerups.every(a=>a.collected)&&_())}})}let g=0;const B=5;function C(){e.player.moving=!1,(e.keys.ArrowUp||e.keys.w)&&(e.player.y-=e.player.speed,e.player.frameY=0,e.player.moving=!0,e.player.direction="up"),(e.keys.ArrowDown||e.keys.s)&&(e.player.y+=e.player.speed,e.player.frameY=2,e.player.moving=!0,e.player.direction="down"),(e.keys.ArrowLeft||e.keys.a)&&(e.player.x-=e.player.speed,e.player.frameY=3,e.player.moving=!0,e.player.direction="left"),(e.keys.ArrowRight||e.keys.d)&&(e.player.x+=e.player.speed,e.player.frameY=1,e.player.moving=!0,e.player.direction="right"),e.player.x<0&&(e.player.x=0),e.player.x>o-e.player.width&&(e.player.x=o-e.player.width),e.player.y<0&&(e.player.y=0),e.player.y>l-e.player.height&&(e.player.y=l-e.player.height),g++,e.player.moving&&g>=B&&(e.player.frameX=(e.player.frameX+1)%I,g=0)}function M(){m.clearRect(0,0,o,l),e.powerups.forEach(r=>{r.collected||m.drawImage(e.powerupSprite,r.x,r.y,r.width,r.height)}),m.drawImage(e.playerSprite,e.player.frameX*y,e.player.frameY*y,y,y,e.player.x,e.player.y,e.player.width,e.player.height)}function w(){e.gameActive&&!e.gameOver&&(C(),Y(),M()),requestAnimationFrame(w)}function T(){L(),x(),P(),w()}window.onload=T;
